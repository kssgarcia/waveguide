\documentclass[tikz,border=10pt]{standalone}
\usepackage{tikz}
\usepackage{amsmath}
\begin{document}

\begin{tikzpicture}[scale=1]
  % Parameters
  \def\d{2}
  \def\H{2}
  \def\L{6}
  \def\a{0.7} % cardioid size parameter

  % Waveguide rectangle (shaded)
  \fill[gray!20] (-\L/2,-\H/2) rectangle (\L/2,\H/2);

  % Solid boundary lines for y=±H/2 (waveguide walls)
  \draw[thin] (-\L/2,-\H/2) -- (\L/2,-\H/2);
  \draw[thin] (-\L/2, \H/2) -- (\L/2, \H/2);

  % Vertical dashed lines at -d and d
  \draw[dashed] (-\d,-\H/2) -- (-\d,\H/2);
  \draw[dashed] ( \d,-\H/2) -- ( \d,\H/2);

  % Obstacle (cardioid)
  \filldraw[fill=white, draw=black, thin, domain=0:360, samples=200, smooth, variable=\t]
    plot ({\a*(1-cos(\t)) * cos(\t r) + 0.2},
          {\a*(1-cos(\t)) * sin(\t r)});

  % Labels
  \node at (-1.2,0.3) {$\Omega_L$};
  \node at (-\d,-1.2) {$-L$};
  \node at ( \d,-1.2) {$L$};
  \node at (-2.5,0.3) {$S^-$};
  \node at (2.5,0.3) {$S^+$};

\end{tikzpicture}

\end{document}
